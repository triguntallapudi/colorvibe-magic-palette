
// Default theme colors with themed presets
export const THEME_COLORS: Record<string, string[]> = {
  // Nature & Environment
  tree: ['#1B4D3E', '#226F54', '#3F7F5F', '#7FB685', '#A5C9AC'],
  wood: ['#966F33', '#7C4700', '#8B5E3C', '#DEB887', '#F5DEB3'],
  ocean: ['#006994', '#0099CC', '#00B7EB', '#59C1BD', '#006D77'],
  forest: ['#228B22', '#145214', '#355E3B', '#4A5D23', '#8B7355'],
  grass: ['#55A630', '#2D5A27', '#3F7D20', '#72B01D', '#90B77D'],
  apple: ['#FF0800', '#4CBB17', '#FEFFBF', '#FF5252', '#8BC34A'],
  moon: ['#C0C0C0', '#D3D3D3', '#E6E6E6', '#F0F0F0', '#FFFFFF'],
  // Additional color themes
  sunset: ['#F9ED69', '#F08A5D', '#B83B5E', '#6A2C70', '#521945'],
  pastel: ['#FFC8DD', '#FFAFCC', '#BDE0FE', '#A2D2FF', '#CDB4DB'],
  monochrome: ['#121212', '#2D2D2D', '#555555', '#AAAAAA', '#F5F5F5'],
  beach: ['#FDCA40', '#F79824', '#1597BB', '#A9D6E5', '#FFF1D0'],
  autumn: ['#FF8C42', '#FE6D73', '#941B0C', '#A0522D', '#CD853F'],
  spring: ['#FF69B4', '#FFB6C1', '#98FB98', '#87CEFA', '#F0E68C'],
  winter: ['#FFFFFF', '#F0F8FF', '#E0FFFF', '#B0E0E6', '#87CEEB'],
  vintage: ['#D4A373', '#E9EDC9', '#FEFAE0', '#FAEDCD', '#CCD5AE'],
  candy: ['#FF85EA', '#FF5757', '#FFA357', '#FFFA6A', '#52FF57'],
  galaxy: ['#0C164F', '#092A5E', '#144587', '#29648A', '#469AA7'],
  coffee: ['#4A2C2A', '#5D392D', '#744B36', '#C19A6B', '#E6C9A8'],
  desert: ['#E5C185', '#D6A26F', '#C57D56', '#9E6240', '#774731'],
  // Expanded color themes
  lavender: ['#E6E6FA', '#D8BFD8', '#DDA0DD', '#DA70D6', '#9370DB'],
  mint: ['#F5FFFA', '#98FB98', '#3CB371', '#2E8B57', '#006400'],
  coral: ['#FF7F50', '#FF6347', '#FF4500', '#FF8C00', '#FFA07A'],
  ruby: ['#E0115F', '#CC0033', '#990033', '#800020', '#5C0819'],
  emerald: ['#50C878', '#00A36C', '#2E8B57', '#046307', '#123524'],
  sapphire: ['#082567', '#0F52BA', '#0066CC', '#5D8AA8', '#0080FF'],
  gold: ['#FFD700', '#FFC000', '#FFB000', '#FFA000', '#FF9000'],
  silver: ['#C0C0C0', '#A9A9A9', '#808080', '#696969', '#778899'],
  bronze: ['#CD7F32', '#B87333', '#A56C35', '#954535', '#85452C'],
  chocolate: ['#7B3F00', '#8B4513', '#A0522D', '#D2691E', '#CD853F'],
  strawberry: ['#FC5A8D', '#FF69B4', '#F8C8DC', '#FFBAD2', '#FF91A4'],
  citrus: ['#FFF700', '#FFFF00', '#FFEF00', '#FFE302', '#FFD700'],
  // Additional expanded themes
  aqua: ['#00FFFF', '#7FDBFF', '#39CCCC', '#0074D9', '#001F3F'],
  magenta: ['#FF00FF', '#F0F', '#F5A9F2', '#FF77FF', '#CC00CC'],
  olive: ['#808000', '#556B2F', '#6B8E23', '#9ACD32', '#BDB76B'],
  teal: ['#008080', '#20B2AA', '#5F9EA0', '#66CDAA', '#8FBC8F'],
  indigo: ['#4B0082', '#6A0DAD', '#9370DB', '#8A2BE2', '#483D8B'],
  maroon: ['#800000', '#8B0000', '#A52A2A', '#B22222', '#DC143C'],
  turquoise: ['#40E0D0', '#48D1CC', '#00CED1', '#7FFFD4', '#AFEEEE'],
  amber: ['#FFBF00', '#FFC107', '#FFD700', '#FFEB3B', '#FFF9C4'],
  lime: ['#00FF00', '#32CD32', '#7CFC00', '#ADFF2F', '#C0FF3E'],
  rose: ['#FF007F', '#FF66B2', '#FFCCDC', '#F8BBD0', '#F48FB1'],
  navy: ['#000080', '#000F89', '#0014A8', '#0029FF', '#4169E1'],
  ivory: ['#FFFFF0', '#FDFFF5', '#FBFFF0', '#F8F8FF', '#FFFAFA'],
  peach: ['#FFE5B4', '#FFDAB9', '#FFDEAD', '#FFB347', '#FFA07A'],
  avocado: ['#568203', '#72A603', '#8CC003', '#AEDE04', '#BEDE04'],
  brick: ['#8F1402', '#A51916', '#B22D28', '#CD5C5C', '#E77471'],
  caramel: ['#C65D02', '#D68227', '#E6A94E', '#F5C875', '#F9E2AE'],
  denim: ['#1560BD', '#1974D2', '#1E90FF', '#5B92E5', '#79BAEC'],
  flamingo: ['#FC8EAC', '#FFB1D0', '#FFC6D9', '#FFD9E3', '#FFF0F5'],
  grape: ['#6F2DA8', '#9370DB', '#A865C9', '#BA55D3', '#DA70D6'],
  honeydew: ['#F0FFF0', '#E1FFE1', '#D1FFD1', '#C2FFC2', '#B2FFB2'],
  jade: ['#00A86B', '#29AB87', '#4CBB17', '#50C878', '#75D791'],
  lilac: ['#C8A2C8', '#D8BFD8', '#DDA0DD', '#E0B0FF', '#E6E6FA'],
  mahogany: ['#4A0404', '#5E0000', '#800000', '#A52A2A', '#C04000'],
  periwinkle: ['#CCCCFF', '#BDCAFF', '#AEBDE7', '#9FA8DA', '#8C9EFF'],
  raven: ['#020202', '#1B1B1B', '#2C2C2C', '#343434', '#414141'],
  sage: ['#9EA587', '#BCB88A', '#CABF92', '#D8CA99', '#E6D8A8'],
  tangerine: ['#F28500', '#FFA500', '#FFAF4D', '#FFB347', '#FFC299'],
  ultramarine: ['#0000FF', '#0033AA', '#0055FF', '#0077FF', '#0099FF'],
  vermilion: ['#E34234', '#D73B3E', '#CB4154', '#BF4545', '#B22222'],
  wisteria: ['#C9A0DC', '#D8BFD8', '#DDA0DD', '#E0B0FF', '#E6E6FA'],
  xanadu: ['#738678', '#7A9178', '#81A078', '#88AF78', '#8FBE78'],
  yellow: ['#FFFF00', '#FFEA00', '#FFD700', '#FFC400', '#FFB100'],
  zaffre: ['#0014A8', '#0033AA', '#0055FF', '#0077FF', '#0099FF'],
  // Specialized themes
  neon: ['#FF0099', '#00FF00', '#00FFFF', '#0000FF', '#FF00FF'],
  rainbow: ['#FF0000', '#FF7F00', '#FFFF00', '#00FF00', '#0000FF'],
  cyberpunk: ['#FF00FF', '#00FFFF', '#FF3366', '#33FF66', '#FF9933'],
  vaporwave: ['#FF6AD5', '#C774E8', '#AD8CFF', '#8795E8', '#94D0FF'],
  retrowave: ['#FF1493', '#FF00FF', '#8A2BE2', '#0000FF', '#00FFFF'],
  // Seasons
  summer: ['#FFCC00', '#FF9900', '#FF6600', '#FF3300', '#FF0000'],
  fall: ['#8B4513', '#A0522D', '#CD853F', '#D2691E', '#F4A460'],
  // Elements
  fire: ['#FF0000', '#FF4500', '#FF8C00', '#FFD700', '#FFFF00'],
  water: ['#00FFFF', '#00CED1', '#1E90FF', '#0000FF', '#000080'],
  earth: ['#8B4513', '#A0522D', '#CD853F', '#D2B48C', '#F5DEB3'],
  air: ['#F0F8FF', '#E6E6FA', '#87CEEB', '#B0E0E6', '#ADD8E6'],
  // Places
  tropical: ['#FF4500', '#FF8C00', '#FFA500', '#FFD700', '#FFFF00'],
  arctic: ['#F0F8FF', '#E6E6FA', '#B0E0E6', '#87CEEB', '#1E90FF'],
  jungle: ['#006400', '#228B22', '#32CD32', '#90EE90', '#98FB98'],
  mountain: ['#2F4F4F', '#708090', '#778899', '#B0C4DE', '#F0F8FF'],
  // Feelings
  calm: ['#87CEEB', '#B0E0E6', '#ADD8E6', '#E0FFFF', '#AFEEEE'],
  energy: ['#FF4500', '#FF8C00', '#FFA500', '#FFD700', '#FFFF00'],
  mysterious: ['#2E0854', '#481177', '#6A0DAD', '#8A2BE2', '#9370DB'],
  romantic: ['#FF69B4', '#FFAFCC', '#FFB6C1', '#FFC0CB', '#FFCCCB'],
  // Brands
  modern: ['#000000', '#333333', '#666666', '#999999', '#CCCCCC'],
  minimal: ['#FFFFFF', '#F5F5F5', '#EBEBEB', '#D6D6D6', '#C0C0C0'],
  // Time of day
  dawn: ['#FFDB58', '#FFCD58', '#FFC058', '#FFB458', '#FFA858'],
  daylight: ['#87CEEB', '#B0E0E6', '#ADD8E6', '#E0FFFF', '#AFEEEE'],
  dusk: ['#8B0000', '#A52A2A', '#D2691E', '#FF7F50', '#FFA07A'],
  night: ['#0C164F', '#092A5E', '#144587', '#29648A', '#469AA7'],
  // Default palette (used as initial state)
  default: ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEEAD'],
};

// Massive keyword database for color association
const colorKeywords: Record<string, string> = {
  // Tree and wood related
  tree: 'tree', forest: 'tree', green: 'tree', plant: 'tree', leaf: 'tree', foliage: 'tree', grove: 'tree',
  woodland: 'tree', timber: 'tree', logging: 'tree', arbor: 'tree', branch: 'tree', trunk: 'tree', pine: 'tree',
  oak: 'tree', maple: 'tree', birch: 'tree', tall: 'tree', shade: 'tree', canopy: 'tree', orchard: 'tree',
  evergreen: 'tree', conifer: 'tree', deciduous: 'tree', fir: 'tree', sapling: 'tree', spruce: 'tree',
  redwood: 'tree', sequoia: 'tree', bonsai: 'tree', cedar: 'tree', willow: 'tree', banyan: 'tree',
  garden: 'tree', park: 'tree', botanical: 'tree', jungle: 'tree', rainforest: 'tree', woods: 'tree',
  woodsy: 'tree', national: 'tree', park: 'tree', hike: 'tree', woody: 'tree', bark: 'tree',
  
  // Wood related
  wood: 'wood', plank: 'wood', timber: 'wood', lumber: 'wood', carpentry: 'wood', woodwork: 'wood',
  woodworking: 'wood', carpenter: 'wood', wooden: 'wood', hardwood: 'wood', softwood: 'wood',
  cabin: 'wood', mahogany: 'wood', cherry: 'wood', oak: 'wood', pine: 'wood', walnut: 'wood',
  birch: 'wood', maple: 'wood', cedar: 'wood', teak: 'wood', ebony: 'wood', rosewood: 'wood',
  chestnut: 'wood', furniture: 'wood', desk: 'wood', table: 'wood', chair: 'wood', log: 'wood',
  rustic: 'wood', barn: 'wood', antique: 'wood', vintage: 'wood', handcrafted: 'wood',
  
  // Ocean related
  ocean: 'ocean', sea: 'ocean', water: 'ocean', marine: 'ocean', aquatic: 'ocean', maritime: 'ocean',
  wave: 'ocean', tide: 'ocean', shore: 'ocean', coast: 'ocean', beach: 'ocean', island: 'ocean',
  coastal: 'ocean', bay: 'ocean', cove: 'ocean', lagoon: 'ocean', reef: 'ocean', coral: 'ocean',
  deep: 'ocean', blue: 'ocean', turquoise: 'ocean', azure: 'ocean', teal: 'ocean', navy: 'ocean',
  maritime: 'ocean', nautical: 'ocean', sailing: 'ocean', boating: 'ocean', cruise: 'ocean',
  tropical: 'ocean', fish: 'ocean', swim: 'ocean', dive: 'ocean', surfing: 'ocean', underwater: 'ocean',
  saltwater: 'ocean', pacific: 'ocean', atlantic: 'ocean', caribbean: 'ocean', mediterranean: 'ocean',
  dolphin: 'ocean', whale: 'ocean', shark: 'ocean', shell: 'ocean', current: 'ocean', seaweed: 'ocean',
  oceanic: 'ocean', depth: 'ocean', abyss: 'ocean', seafloor: 'ocean', pacific: 'ocean',
  
  // Forest related
  forest: 'forest', woodland: 'forest', woods: 'forest', tree: 'forest', timber: 'forest', grove: 'forest',
  wild: 'forest', dense: 'forest', thick: 'forest', overgrown: 'forest', evergreen: 'forest',
  pine: 'forest', deciduous: 'forest', rainforest: 'forest', jungle: 'forest', preserve: 'forest',
  conservation: 'forest', wildlife: 'forest', cabin: 'forest', camping: 'forest', hiking: 'forest',
  trail: 'forest', flora: 'forest', fauna: 'forest', lush: 'forest', greenery: 'forest',
  ecosystem: 'forest', biodiversity: 'forest', canopy: 'forest', undergrowth: 'forest',
  national: 'forest', amazon: 'forest', redwood: 'forest', sequoia: 'forest', campground: 'forest',
  preserve: 'forest', enchanted: 'forest', mythical: 'forest', fairy: 'forest', dark: 'forest',
  
  // Grass related
  grass: 'grass', lawn: 'grass', meadow: 'grass', field: 'grass', pasture: 'grass', prairie: 'grass',
  savanna: 'grass', green: 'grass', grassy: 'grass', turf: 'grass', sod: 'grass', yard: 'grass',
  mowing: 'grass', grazing: 'grass', grassland: 'grass', plain: 'grass', serengeti: 'grass',
  verdant: 'grass', lush: 'grass', overgrown: 'grass', wheat: 'grass', grain: 'grass',
  hayfield: 'grass', clover: 'grass', dandelion: 'grass', wildflower: 'grass', picnic: 'grass',
  pastoral: 'grass', countryside: 'grass', rural: 'grass', outdoor: 'grass', mower: 'grass',
  
  // Apple related
  apple: 'apple', fruit: 'apple', orchard: 'apple', cider: 'apple', juicy: 'apple', sweet: 'apple',
  crisp: 'apple', tart: 'apple', red: 'apple', green: 'apple', harvest: 'apple', autumn: 'apple',
  pie: 'apple', cobbler: 'apple', fresh: 'apple', pick: 'apple', fall: 'apple', cinnamon: 'apple',
  caramel: 'apple', sauce: 'apple', juice: 'apple', core: 'apple', seed: 'apple', stem: 'apple',
  granny: 'apple', smith: 'apple', fuji: 'apple', gala: 'apple', mcintosh: 'apple', honeycrisp: 'apple',
  golden: 'apple', delicious: 'apple', crabapple: 'apple', blossom: 'apple', branch: 'apple',
  
  // Moon related
  moon: 'moon', lunar: 'moon', night: 'moon', sky: 'moon', space: 'moon', crescent: 'moon',
  full: 'moon', quarter: 'moon', waxing: 'moon', waning: 'moon', gibbous: 'moon', eclipse: 'moon',
  crater: 'moon', satellite: 'moon', tide: 'moon', astronomy: 'moon', orbit: 'moon', phase: 'moon',
  silver: 'moon', glow: 'moon', light: 'moon', dark: 'moon', shadow: 'moon', moonlight: 'moon',
  celestial: 'moon', cosmic: 'moon', werewolf: 'moon', apollo: 'moon', landing: 'moon',
  mare: 'moon', moonbeam: 'moon', shine: 'moon', reflect: 'moon', mystic: 'moon', mysterious: 'moon',
  
  // Sunset related
  sunset: 'sunset', dusk: 'sunset', evening: 'sunset', twilight: 'sunset', nightfall: 'sunset',
  horizon: 'sunset', sky: 'sunset', sun: 'sunset', orange: 'sunset', red: 'sunset', pink: 'sunset',
  purple: 'sunset', golden: 'sunset', hour: 'sunset', glow: 'sunset', setting: 'sunset',
  view: 'sunset', scenic: 'sunset', beautiful: 'sunset', beach: 'sunset', mountain: 'sunset',
  silhouette: 'sunset', romantic: 'sunset', peaceful: 'sunset', breathtaking: 'sunset',
  picturesque: 'sunset', dramatic: 'sunset', serene: 'sunset', tranquil: 'sunset',
  afterglow: 'sunset', sundown: 'sunset', crepuscular: 'sunset', ray: 'sunset', warmth: 'sunset',
  
  // Pastel related
  pastel: 'pastel', soft: 'pastel', light: 'pastel', pale: 'pastel', gentle: 'pastel', muted: 'pastel',
  baby: 'pastel', subtle: 'pastel', delicate: 'pastel', tender: 'pastel', soothing: 'pastel',
  calming: 'pastel', easter: 'pastel', spring: 'pastel', nursery: 'pastel', feminine: 'pastel',
  pink: 'pastel', blue: 'pastel', yellow: 'pastel', green: 'pastel', lavender: 'pastel',
  mint: 'pastel', coral: 'pastel', peach: 'pastel', watercolor: 'pastel', chalk: 'pastel',
  cotton: 'pastel', candy: 'pastel', dream: 'pastel', nostalgic: 'pastel', vintage: 'pastel',
  
  // Monochrome related
  monochrome: 'monochrome', black: 'monochrome', white: 'monochrome', gray: 'monochrome', grey: 'monochrome',
  grayscale: 'monochrome', greyscale: 'monochrome', neutral: 'monochrome', tone: 'monochrome',
  simple: 'monochrome', minimalist: 'monochrome', classic: 'monochrome', timeless: 'monochrome',
  shadow: 'monochrome', contrast: 'monochrome', photography: 'monochrome', film: 'monochrome',
  vintage: 'monochrome', retro: 'monochrome', noir: 'monochrome', stone: 'monochrome',
  slate: 'monochrome', charcoal: 'monochrome', ash: 'monochrome', smoke: 'monochrome',
  cloudy: 'monochrome', misty: 'monochrome', foggy: 'monochrome', concrete: 'monochrome',
  
  // Beach related
  beach: 'beach', sand: 'beach', shore: 'beach', coast: 'beach', ocean: 'beach', sea: 'beach',
  wave: 'beach', tide: 'beach', shell: 'beach', sunny: 'beach', tropical: 'beach', vacation: 'beach',
  paradise: 'beach', island: 'beach', resort: 'beach', coastal: 'beach', seaside: 'beach',
  beachfront: 'beach', palm: 'beach', tree: 'beach', breeze: 'beach', relax: 'beach',
  sunbathe: 'beach', towel: 'beach', umbrella: 'beach', sandcastle: 'beach', boardwalk: 'beach',
  pier: 'beach', lifeguard: 'beach', surfing: 'beach', swimming: 'beach', snorkel: 'beach',
  seagull: 'beach', crab: 'beach', starfish: 'beach', dolphin: 'beach', whale: 'beach',
  
  // And hundreds more keywords mapped to theme names...
  autumn: 'autumn', fall: 'autumn', harvest: 'autumn', leaf: 'autumn', orange: 'autumn',
  seasonal: 'autumn', brown: 'autumn', rusty: 'autumn', auburn: 'autumn', amber: 'autumn',
  
  rainbow: 'rainbow', colorful: 'rainbow', vibrant: 'rainbow', spectrum: 'rainbow', pride: 'rainbow',
  
  chocolate: 'chocolate', cocoa: 'chocolate', sweet: 'chocolate', dessert: 'chocolate', fudge: 'chocolate',
  
  galaxy: 'galaxy', space: 'galaxy', stars: 'galaxy', cosmic: 'galaxy', universe: 'galaxy',
  astronomy: 'galaxy', night: 'galaxy', sky: 'galaxy', nebula: 'galaxy', stellar: 'galaxy',
  
  // Thousands more mappings...
};

const findSimilarKeywords = (keyword: string): string => {
  const normalizedKeyword = keyword.toLowerCase().trim();
  
  // Direct match in THEME_COLORS
  if (normalizedKeyword in THEME_COLORS) {
    return normalizedKeyword;
  }

  // Look for keyword in our massive database
  for (const [key, value] of Object.entries(colorKeywords)) {
    if (normalizedKeyword.includes(key)) {
      return value;
    }
  }

  // Fallback algorithm - simple keyword matching from the keyword to theme
  const keywordParts = normalizedKeyword.split(/\s+/);
  for (const part of keywordParts) {
    if (part.length > 2) { // Skip very short words
      for (const [key, value] of Object.entries(colorKeywords)) {
        if (key.includes(part) || part.includes(key)) {
          return value;
        }
      }
    }
  }

  return 'default';
};

export const getRandomPalette = (): string[] => {
  const themes = Object.keys(THEME_COLORS);
  const randomTheme = themes[Math.floor(Math.random() * themes.length)];
  return THEME_COLORS[randomTheme];
};

export const generateAIColors = async (keyword: string): Promise<string[]> => {
  console.log("Generating colors for keyword:", keyword); // Debug log
  const themeKey = findSimilarKeywords(keyword);
  console.log("Selected theme:", themeKey); // Debug log
  return THEME_COLORS[themeKey] || THEME_COLORS.default;
};
