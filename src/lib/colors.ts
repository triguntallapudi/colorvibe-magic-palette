
// Default theme colors with themed presets
export const THEME_COLORS: Record<string, string[]> = {
  // Nature & Environment
  tree: ['#1B4D3E', '#226F54', '#3F7F5F', '#7FB685', '#A5C9AC'],
  wood: ['#966F33', '#7C4700', '#8B5E3C', '#DEB887', '#F5DEB3'],
  ocean: ['#006994', '#0099CC', '#00B7EB', '#59C1BD', '#006D77'],
  forest: ['#228B22', '#145214', '#355E3B', '#4A5D23', '#8B7355'],
  grass: ['#55A630', '#2D5A27', '#3F7D20', '#72B01D', '#90B77D'],
  moon: ['#C0C0C0', '#D3D3D3', '#E6E6E6', '#F0F0F0', '#FFFFFF'],
  // Additional color themes
  sunset: ['#F9ED69', '#F08A5D', '#B83B5E', '#6A2C70', '#521945'],
  pastel: ['#FFC8DD', '#FFAFCC', '#BDE0FE', '#A2D2FF', '#CDB4DB'],
  monochrome: ['#000000', '#333333', '#666666', '#999999', '#CCCCCC'],
  beach: ['#FDCA40', '#F79824', '#1597BB', '#A9D6E5', '#FFF1D0'],
  autumn: ['#FF8C42', '#FE6D73', '#941B0C', '#A0522D', '#CD853F'],
  spring: ['#FF69B4', '#FFB6C1', '#98FB98', '#87CEFA', '#F0E68C'],
  winter: ['#FFFFFF', '#F0F8FF', '#E0FFFF', '#B0E0E6', '#87CEEB'],
  vintage: ['#D4A373', '#E9EDC9', '#FEFAE0', '#FAEDCD', '#CCD5AE'],
  candy: ['#FF85EA', '#FF5757', '#FFA357', '#FFFA6A', '#52FF57'],
  galaxy: ['#0C164F', '#092A5E', '#144587', '#29648A', '#469AA7'],
  coffee: ['#4A2C2A', '#5D392D', '#744B36', '#C19A6B', '#E6C9A8'],
  desert: ['#E5C185', '#D6A26F', '#C57D56', '#9E6240', '#774731'],
  // Expanded color themes
  lavender: ['#E6E6FA', '#D8BFD8', '#DDA0DD', '#DA70D6', '#9370DB'],
  mint: ['#F5FFFA', '#98FB98', '#3CB371', '#2E8B57', '#006400'],
  coral: ['#FF7F50', '#FF6347', '#FF4500', '#FF8C00', '#FFA07A'],
  ruby: ['#E0115F', '#CC0033', '#990033', '#800020', '#5C0819'],
  emerald: ['#50C878', '#00A36C', '#2E8B57', '#046307', '#123524'],
  sapphire: ['#082567', '#0F52BA', '#0066CC', '#5D8AA8', '#0080FF'],
  gold: ['#FFD700', '#FFC000', '#FFB000', '#FFA000', '#FF9000'],
  silver: ['#C0C0C0', '#A9A9A9', '#808080', '#696969', '#778899'],
  bronze: ['#CD7F32', '#B87333', '#A56C35', '#954535', '#85452C'],
  chocolate: ['#7B3F00', '#8B4513', '#A0522D', '#D2691E', '#CD853F'],
  strawberry: ['#FC5A8D', '#FF69B4', '#F8C8DC', '#FFBAD2', '#FF91A4'],
  citrus: ['#FFF700', '#FFFF00', '#FFEF00', '#FFE302', '#FFD700'],
  // Additional expanded themes
  aqua: ['#00FFFF', '#7FDBFF', '#39CCCC', '#0074D9', '#001F3F'],
  magenta: ['#FF00FF', '#F0F', '#F5A9F2', '#FF77FF', '#CC00CC'],
  olive: ['#808000', '#556B2F', '#6B8E23', '#9ACD32', '#BDB76B'],
  teal: ['#008080', '#20B2AA', '#5F9EA0', '#66CDAA', '#8FBC8F'],
  indigo: ['#4B0082', '#6A0DAD', '#9370DB', '#8A2BE2', '#483D8B'],
  maroon: ['#800000', '#8B0000', '#A52A2A', '#B22222', '#DC143C'],
  turquoise: ['#40E0D0', '#48D1CC', '#00CED1', '#7FFFD4', '#AFEEEE'],
  amber: ['#FFBF00', '#FFC107', '#FFD700', '#FFEB3B', '#FFF9C4'],
  lime: ['#00FF00', '#32CD32', '#7CFC00', '#ADFF2F', '#C0FF3E'],
  rose: ['#FF007F', '#FF66B2', '#FFCCDC', '#F8BBD0', '#F48FB1'],
  navy: ['#000080', '#000F89', '#0014A8', '#0029FF', '#4169E1'],
  ivory: ['#FFFFF0', '#FDFFF5', '#FBFFF0', '#F8F8FF', '#FFFAFA'],
  peach: ['#FFE5B4', '#FFDAB9', '#FFDEAD', '#FFB347', '#FFA07A'],
  avocado: ['#568203', '#72A603', '#8CC003', '#AEDE04', '#BEDE04'],
  brick: ['#8F1402', '#A51916', '#B22D28', '#CD5C5C', '#E77471'],
  caramel: ['#C65D02', '#D68227', '#E6A94E', '#F5C875', '#F9E2AE'],
  denim: ['#1560BD', '#1974D2', '#1E90FF', '#5B92E5', '#79BAEC'],
  flamingo: ['#FC8EAC', '#FFB1D0', '#FFC6D9', '#FFD9E3', '#FFF0F5'],
  grape: ['#6F2DA8', '#9370DB', '#A865C9', '#BA55D3', '#DA70D6'],
  honeydew: ['#F0FFF0', '#E1FFE1', '#D1FFD1', '#C2FFC2', '#B2FFB2'],
  jade: ['#00A86B', '#29AB87', '#4CBB17', '#50C878', '#75D791'],
  lilac: ['#C8A2C8', '#D8BFD8', '#DDA0DD', '#E0B0FF', '#E6E6FA'],
  mahogany: ['#4A0404', '#5E0000', '#800000', '#A52A2A', '#C04000'],
  periwinkle: ['#CCCCFF', '#BDCAFF', '#AEBDE7', '#9FA8DA', '#8C9EFF'],
  raven: ['#020202', '#1B1B1B', '#2C2C2C', '#343434', '#414141'],
  sage: ['#9EA587', '#BCB88A', '#CABF92', '#D8CA99', '#E6D8A8'],
  tangerine: ['#F28500', '#FFA500', '#FFAF4D', '#FFB347', '#FFC299'],
  ultramarine: ['#0000FF', '#0033AA', '#0055FF', '#0077FF', '#0099FF'],
  vermilion: ['#E34234', '#D73B3E', '#CB4154', '#BF4545', '#B22222'],
  wisteria: ['#C9A0DC', '#D8BFD8', '#DDA0DD', '#E0B0FF', '#E6E6FA'],
  xanadu: ['#738678', '#7A9178', '#81A078', '#88AF78', '#8FBE78'],
  yellow: ['#FFFF00', '#FFEA00', '#FFD700', '#FFC400', '#FFB100'],
  zaffre: ['#0014A8', '#0033AA', '#0055FF', '#0077FF', '#0099FF'],
  // Specialized themes
  cyberpunk: ['#FF00FF', '#00FFFF', '#FF3366', '#33FF66', '#FF9933'],
  vaporwave: ['#FF6AD5', '#C774E8', '#AD8CFF', '#8795E8', '#94D0FF'],
  retrowave: ['#FF1493', '#FF00FF', '#8A2BE2', '#0000FF', '#00FFFF'],
  // Seasons
  summer: ['#FFCC00', '#FF9900', '#FF6600', '#FF3300', '#FF0000'],
  fall: ['#8B4513', '#A0522D', '#CD853F', '#D2691E', '#F4A460'],
  // Elements
  fire: ['#FF0000', '#FF4500', '#FF8C00', '#FFD700', '#FFFF00'],
  water: ['#00FFFF', '#00CED1', '#1E90FF', '#0000FF', '#000080'],
  earth: ['#8B4513', '#A0522D', '#CD853F', '#D2B48C', '#F5DEB3'],
  air: ['#F0F8FF', '#E6E6FA', '#87CEEB', '#B0E0E6', '#ADD8E6'],
  // Places
  tropical: ['#FF4500', '#FF8C00', '#FFA500', '#FFD700', '#FFFF00'],
  arctic: ['#F0F8FF', '#E6E6FA', '#B0E0E6', '#87CEEB', '#1E90FF'],
  jungle: ['#006400', '#228B22', '#32CD32', '#90EE90', '#98FB98'],
  mountain: ['#2F4F4F', '#708090', '#778899', '#B0C4DE', '#F0F8FF'],
  // Feelings
  calm: ['#87CEEB', '#B0E0E6', '#ADD8E6', '#E0FFFF', '#AFEEEE'],
  energy: ['#FF4500', '#FF8C00', '#FFA500', '#FFD700', '#FFFF00'],
  mysterious: ['#2E0854', '#481177', '#6A0DAD', '#8A2BE2', '#9370DB'],
  romantic: ['#FF69B4', '#FFAFCC', '#FFB6C1', '#FFC0CB', '#FFCCCB'],
  // Brands
  modern: ['#000000', '#333333', '#666666', '#999999', '#CCCCCC'],
  minimal: ['#FFFFFF', '#F5F5F5', '#EBEBEB', '#D6D6D6', '#C0C0C0'],
  // Time of day
  dawn: ['#FFDB58', '#FFCD58', '#FFC058', '#FFB458', '#FFA858'],
  daylight: ['#87CEEB', '#B0E0E6', '#ADD8E6', '#E0FFFF', '#AFEEEE'],
  dusk: ['#8B0000', '#A52A2A', '#D2691E', '#FF7F50', '#FFA07A'],
  night: ['#0C164F', '#092A5E', '#144587', '#29648A', '#469AA7'],
  // New themes
  futuristic: ['#00FFFF', '#FF00FF', '#0000FF', '#00FF00', '#FFFF00'],
  retro: ['#FF5E5B', '#D8D8D8', '#FFFFEA', '#00CECB', '#FFCA3A'],
  metallic: ['#A5A5A5', '#C0C0C0', '#D3D3D3', '#E8E8E8', '#F5F5F5'],
  neon: ['#FF00FF', '#00FFFF', '#00FF00', '#FFFF00', '#FF0000'],
  pastel2: ['#FFD1DC', '#8EBBFF', '#BBFFBB', '#FFFFBB', '#FFBBFF'],
  jewel: ['#9B111E', '#556B2F', '#2F4F4F', '#191970', '#8B4513'],
  earthy: ['#3D2B1F', '#7D4427', '#B98B73', '#D1BEA8', '#E6D4A3'],
  vibrant: ['#FF0000', '#FF7F00', '#FFFF00', '#00FF00', '#0000FF'],
  muted: ['#D9C5B2', '#B3A394', '#8C7B6E', '#53483D', '#36302A'],
  // Default palette (used as initial state)
  default: ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEEAD'],
  // Add your expanded themes
  rainbow: ['#FF0000', '#FF7F00', '#FFFF00', '#00FF00', '#0000FF'],
  fantasy: ['#FF00FF', '#9370DB', '#00BFFF', '#00FA9A', '#FFDAB9'],
  tech: ['#00FFFF', '#1E90FF', '#32CD32', '#FFD700', '#FF4500'],
  cherry: ['#D2042D', '#FF5C5C', '#FFB3B3', '#FFC6C6', '#FFE8E8'],
  banana: ['#FFEC5F', '#FFDD33', '#FFD700', '#FFD000', '#FFC100'],
  // Additional themes with many more keywords to map
  artsy: ['#FF7F50', '#87CEFA', '#9370DB', '#FF6347', '#98FB98'],
  quirky: ['#FF6B6B', '#A0E7E5', '#FBE7C6', '#FFAFCC', '#B5EAD7'],
  elegant: ['#F0E6D2', '#917C6F', '#5F4B32', '#372A1E', '#1A1410'],
  dynamic: ['#FF4B5C', '#28C7FA', '#37D67A', '#FFCC00', '#9933FF'],
  soothing: ['#AEDBCE', '#D3E8EB', '#EBF1F4', '#F9F9F9', '#FFFFFF'],
  festive: ['#F71735', '#41EAD4', '#FDFFFC', '#011627', '#FF9F1C'],
  sleek: ['#222222', '#45413C', '#8D8D8D', '#B8B8B8', '#F5F5F5'],
  industrial: ['#2B2B2B', '#3A3A3A', '#484848', '#5A5A5A', '#767676'],
  classic: ['#F5F5F5', '#E0E0E0', '#9E9E9E', '#616161', '#212121'],
  bohemian: ['#EE7752', '#E73C7E', '#23A6D5', '#23D5AB', '#FFDD94'],
  sporty: ['#FF0000', '#0000FF', '#FFFF00', '#00FF00', '#FF8C00'],
  nostalgic: ['#DC143C', '#FADA5E', '#228B22', '#4169E1', '#9932CC'],
  childish: ['#FF99CC', '#99CCFF', '#FFFF99', '#99FF99', '#FF9999'],
  professional: ['#000080', '#4B0082', '#483D8B', '#191970', '#000033'],
  regal: ['#4B0082', '#800080', '#8B008B', '#9400D3', '#9932CC'],
  rustic: ['#654321', '#8B4513', '#A0522D', '#D2691E', '#CD853F'],
  exotic: ['#FF4500', '#FF8C00', '#FFD700', '#ADFF2F', '#32CD32'],
  luxurious: ['#FFD700', '#C0C0C0', '#B87333', '#FFFFFF', '#000000'],
  cosmic: ['#191970', '#6A0DAD', '#8A2BE2', '#9370DB', '#EE82EE'],
  urban: ['#696969', '#808080', '#A9A9A9', '#C0C0C0', '#D3D3D3'],
  natural: ['#7CFC00', '#ADFF2F', '#556B2F', '#006400', '#228B22'],
  futurism: ['#00FFFF', '#FF00FF', '#00FF00', '#FFFF00', '#FF0000'],
  minimalistic: ['#FFFFFF', '#F5F5F5', '#EBEBEB', '#E0E0E0', '#D6D6D6'],
};

// Massive expanded keyword database for color association
const colorKeywords: Record<string, string> = {
  // Tree and wood related keywords
  tree: 'tree', forest: 'tree', green: 'tree', plant: 'tree', leaf: 'tree', foliage: 'tree', grove: 'tree',
  woodland: 'tree', timber: 'tree', logging: 'tree', arbor: 'tree', branch: 'tree', trunk: 'tree', pine: 'tree',
  oak: 'tree', maple: 'tree', birch: 'tree', tall: 'tree', shade: 'tree', canopy: 'tree', orchard: 'tree',
  evergreen: 'tree', conifer: 'tree', deciduous: 'tree', fir: 'tree', sapling: 'tree', spruce: 'tree',
  redwood: 'tree', sequoia: 'tree', bonsai: 'tree', cedar: 'tree', willow: 'tree', banyan: 'tree',
  garden: 'tree', botanical: 'tree', jungle: 'tree', rainforest: 'tree', woods: 'tree',
  woodsy: 'tree', national: 'tree', woody: 'tree', bark: 'tree',
  
  // Wood related keywords
  wood: 'wood', plank: 'wood', timber: 'wood', lumber: 'wood', carpentry: 'wood', woodwork: 'wood',
  woodworking: 'wood', carpenter: 'wood', wooden: 'wood', hardwood: 'wood', softwood: 'wood',
  cabin: 'wood', mahogany: 'wood', cherry: 'wood', oak: 'wood', pine: 'wood', walnut: 'wood',
  birch: 'wood', maple: 'wood', cedar: 'wood', teak: 'wood', ebony: 'wood', rosewood: 'wood',
  chestnut: 'wood', furniture: 'wood', desk: 'wood', table: 'wood', chair: 'wood', log: 'wood',
  rustic: 'wood', barn: 'wood', antique: 'wood', vintage: 'wood', handcrafted: 'wood',
  
  // Ocean related keywords
  ocean: 'ocean', sea: 'ocean', water: 'ocean', marine: 'ocean', aquatic: 'ocean', maritime: 'ocean',
  wave: 'ocean', tide: 'ocean', shore: 'ocean', coast: 'ocean', beach: 'ocean', island: 'ocean',
  coastal: 'ocean', bay: 'ocean', cove: 'ocean', lagoon: 'ocean', reef: 'ocean', coral: 'ocean',
  deep: 'ocean', blue: 'ocean', turquoise: 'ocean', azure: 'ocean', teal: 'ocean', navy: 'ocean',
  maritime: 'ocean', nautical: 'ocean', sailing: 'ocean', boating: 'ocean', cruise: 'ocean',
  tropical: 'ocean', fish: 'ocean', swim: 'ocean', dive: 'ocean', surfing: 'ocean', underwater: 'ocean',
  saltwater: 'ocean', pacific: 'ocean', atlantic: 'ocean', caribbean: 'ocean', mediterranean: 'ocean',
  dolphin: 'ocean', whale: 'ocean', shark: 'ocean', shell: 'ocean', current: 'ocean', seaweed: 'ocean',
  oceanic: 'ocean', depth: 'ocean', abyss: 'ocean', seafloor: 'ocean',
  
  // Forest related keywords
  forest: 'forest', woodland: 'forest', woods: 'forest', tree: 'forest', timber: 'forest', grove: 'forest',
  wild: 'forest', dense: 'forest', thick: 'forest', overgrown: 'forest', evergreen: 'forest',
  pine: 'forest', deciduous: 'forest', rainforest: 'forest', jungle: 'forest', preserve: 'forest',
  conservation: 'forest', wildlife: 'forest', cabin: 'forest', camping: 'forest', hiking: 'forest',
  trail: 'forest', flora: 'forest', fauna: 'forest', lush: 'forest', greenery: 'forest',
  ecosystem: 'forest', biodiversity: 'forest', canopy: 'forest', undergrowth: 'forest',
  national: 'forest', amazon: 'forest', redwood: 'forest', sequoia: 'forest', campground: 'forest',
  preserve: 'forest', enchanted: 'forest', mythical: 'forest', fairy: 'forest', dark: 'forest',
  
  // Grass related keywords
  grass: 'grass', lawn: 'grass', meadow: 'grass', field: 'grass', pasture: 'grass', prairie: 'grass',
  savanna: 'grass', green: 'grass', grassy: 'grass', turf: 'grass', sod: 'grass', yard: 'grass',
  mowing: 'grass', grazing: 'grass', grassland: 'grass', plain: 'grass', serengeti: 'grass',
  verdant: 'grass', lush: 'grass', overgrown: 'grass', wheat: 'grass', grain: 'grass',
  hayfield: 'grass', clover: 'grass', dandelion: 'grass', wildflower: 'grass', picnic: 'grass',
  pastoral: 'grass', countryside: 'grass', rural: 'grass', outdoor: 'grass', mower: 'grass',
  
  // Moon related keywords
  moon: 'moon', lunar: 'moon', night: 'moon', sky: 'moon', space: 'moon', crescent: 'moon',
  full: 'moon', quarter: 'moon', waxing: 'moon', waning: 'moon', gibbous: 'moon', eclipse: 'moon',
  crater: 'moon', satellite: 'moon', tide: 'moon', astronomy: 'moon', orbit: 'moon', phase: 'moon',
  silver: 'moon', glow: 'moon', light: 'moon', dark: 'moon', shadow: 'moon', moonlight: 'moon',
  celestial: 'moon', cosmic: 'moon', werewolf: 'moon', apollo: 'moon', landing: 'moon',
  mare: 'moon', moonbeam: 'moon', shine: 'moon', reflect: 'moon', mystic: 'moon', mysterious: 'moon',
  
  // Sunset related keywords
  sunset: 'sunset', dusk: 'sunset', evening: 'sunset', twilight: 'sunset', nightfall: 'sunset',
  horizon: 'sunset', sky: 'sunset', sun: 'sunset', orange: 'sunset', red: 'sunset', pink: 'sunset',
  purple: 'sunset', golden: 'sunset', hour: 'sunset', glow: 'sunset', setting: 'sunset',
  view: 'sunset', scenic: 'sunset', beautiful: 'sunset', beach: 'sunset', mountain: 'sunset',
  silhouette: 'sunset', romantic: 'sunset', peaceful: 'sunset', breathtaking: 'sunset',
  picturesque: 'sunset', dramatic: 'sunset', serene: 'sunset', tranquil: 'sunset',
  afterglow: 'sunset', sundown: 'sunset', crepuscular: 'sunset', ray: 'sunset', warmth: 'sunset',
  
  // Pastel related keywords
  pastel: 'pastel', soft: 'pastel', light: 'pastel', pale: 'pastel', gentle: 'pastel', muted: 'pastel',
  baby: 'pastel', subtle: 'pastel', delicate: 'pastel', tender: 'pastel', soothing: 'pastel',
  calming: 'pastel', easter: 'pastel', spring: 'pastel', nursery: 'pastel', feminine: 'pastel',
  pink: 'pastel', blue: 'pastel', yellow: 'pastel', purple: 'pastel', lavender: 'pastel',
  mint: 'pastel', coral: 'pastel', peach: 'pastel', watercolor: 'pastel', chalk: 'pastel',
  cotton: 'pastel', candy: 'pastel', dream: 'pastel', nostalgic: 'pastel',
  
  // Monochrome related keywords
  monochrome: 'monochrome', black: 'monochrome', white: 'monochrome', gray: 'monochrome', grey: 'monochrome',
  grayscale: 'monochrome', greyscale: 'monochrome', neutral: 'monochrome', tone: 'monochrome',
  simple: 'monochrome', minimalist: 'monochrome', classic: 'monochrome', timeless: 'monochrome',
  shadow: 'monochrome', contrast: 'monochrome', photography: 'monochrome', film: 'monochrome',
  vintage: 'monochrome', retro: 'monochrome', noir: 'monochrome', stone: 'monochrome',
  slate: 'monochrome', charcoal: 'monochrome', ash: 'monochrome', smoke: 'monochrome',
  cloudy: 'monochrome', misty: 'monochrome', foggy: 'monochrome', concrete: 'monochrome',
  
  // Beach related keywords
  beach: 'beach', sand: 'beach', shore: 'beach', coast: 'beach', ocean: 'beach', sea: 'beach',
  wave: 'beach', tide: 'beach', shell: 'beach', sunny: 'beach', tropical: 'beach', vacation: 'beach',
  paradise: 'beach', island: 'beach', resort: 'beach', coastal: 'beach', seaside: 'beach',
  beachfront: 'beach', palm: 'beach', breeze: 'beach', relax: 'beach',
  sunbathe: 'beach', towel: 'beach', umbrella: 'beach', sandcastle: 'beach', boardwalk: 'beach',
  pier: 'beach', lifeguard: 'beach', surfing: 'beach', swimming: 'beach', snorkel: 'beach',
  seagull: 'beach', crab: 'beach', starfish: 'beach', dolphin: 'beach', whale: 'beach',
  
  // Autumn related keywords
  autumn: 'autumn', fall: 'autumn', harvest: 'autumn', leafy: 'autumn', orange: 'autumn',
  seasonal: 'autumn', brown: 'autumn', rusty: 'autumn', auburn: 'autumn', amber: 'autumn',
  pumpkin: 'autumn', gourd: 'autumn', squash: 'autumn', scarecrow: 'autumn', hayride: 'autumn',
  foliage: 'autumn', crisp: 'autumn', cider: 'autumn', chilly: 'autumn', spice: 'autumn',
  
  // Rainbow related keywords
  rainbow: 'rainbow', colorful: 'rainbow', vibrant: 'rainbow', spectrum: 'rainbow', pride: 'rainbow',
  multicolor: 'rainbow', prism: 'rainbow', refraction: 'rainbow', vivid: 'rainbow', bright: 'rainbow',
  
  // Chocolate related keywords
  chocolate: 'chocolate', cocoa: 'chocolate', sweet: 'chocolate', dessert: 'chocolate', fudge: 'chocolate',
  truffle: 'chocolate', ganache: 'chocolate', mocha: 'chocolate', brownie: 'chocolate', candy: 'chocolate',
  
  // Technology-inspired themes
  tech: 'tech', technology: 'tech', digital: 'tech', computer: 'tech', electronic: 'tech',
  future: 'tech', innovation: 'tech', modern: 'tech', device: 'tech', gadget: 'tech',
  robot: 'tech', artificial: 'tech', intelligence: 'tech', smart: 'tech', virtual: 'tech',
  
  // Fantasy-inspired themes
  fantasy: 'fantasy', magic: 'fantasy', mystical: 'fantasy', enchanted: 'fantasy', fairy: 'fantasy',
  dragon: 'fantasy', unicorn: 'fantasy', wizard: 'fantasy', sorcery: 'fantasy', mythical: 'fantasy',
  
  // Nature-inspired additional themes
  nature: 'nature', natural: 'nature', organic: 'nature', earthy: 'nature', environment: 'nature',
  ecosystem: 'nature', biodiversity: 'nature', wildlife: 'nature', flora: 'nature', fauna: 'nature',
  
  // Expanded technology keywords
  coding: 'tech', programming: 'tech', algorithm: 'tech', software: 'tech', hardware: 'tech',
  internet: 'tech', network: 'tech', online: 'tech', website: 'tech', app: 'tech',
  mobile: 'tech', smartphone: 'tech', tablet: 'tech', laptop: 'tech', desktop: 'tech',
  circuit: 'tech', processor: 'tech', memory: 'tech', data: 'tech', cloud: 'tech',
  wireless: 'tech', bluetooth: 'tech', wifi: 'tech', satellite: 'tech', cable: 'tech',
  broadband: 'tech', fiber: 'tech', optic: 'tech', modem: 'tech', router: 'tech',
  server: 'tech', database: 'tech', encryption: 'tech', firewall: 'tech', security: 'tech',
  virus: 'tech', malware: 'tech', spyware: 'tech', antivirus: 'tech', backup: 'tech',
  restore: 'tech', recovery: 'tech', update: 'tech', upgrade: 'tech', install: 'tech',
  uninstall: 'tech', download: 'tech', upload: 'tech', streaming: 'tech', buffering: 'tech',
  
  // Expanded food keywords
  food: 'food', cuisine: 'food', culinary: 'food', cooking: 'food', baking: 'food',
  recipe: 'food', ingredient: 'food', dish: 'food', meal: 'food', feast: 'food',
  dinner: 'food', lunch: 'food', breakfast: 'food', brunch: 'food', snack: 'food',
  appetizer: 'food', entree: 'food', dessert: 'food', sweet: 'food', savory: 'food',
  spicy: 'food', bitter: 'food', sour: 'food', umami: 'food', delicious: 'food',
  tasty: 'food', flavorful: 'food', aromatic: 'food', fragrant: 'food', seasoned: 'food',
  
  // Expanded space keywords
  space: 'galaxy', cosmos: 'galaxy', universe: 'galaxy', stellar: 'galaxy', interstellar: 'galaxy',
  nebula: 'galaxy', supernova: 'galaxy', constellation: 'galaxy', black: 'galaxy', hole: 'galaxy',
  pulsar: 'galaxy', quasar: 'galaxy', asteroid: 'galaxy', meteor: 'galaxy', comet: 'galaxy',
  planet: 'galaxy', mercury: 'galaxy', venus: 'galaxy', mars: 'galaxy', jupiter: 'galaxy',
  saturn: 'galaxy', uranus: 'galaxy', neptune: 'galaxy', pluto: 'galaxy', solar: 'galaxy',
  system: 'galaxy', star: 'galaxy', sun: 'galaxy', milky: 'galaxy', way: 'galaxy',
  andromeda: 'galaxy', gravity: 'galaxy', orbit: 'galaxy', rotation: 'galaxy', revolution: 'galaxy',
};

const findSimilarKeywords = (keyword: string): string => {
  const normalizedKeyword = keyword.toLowerCase().trim();
  
  // Direct match in THEME_COLORS
  if (normalizedKeyword in THEME_COLORS) {
    return normalizedKeyword;
  }

  // Look for keyword in our massive database
  for (const [key, value] of Object.entries(colorKeywords)) {
    if (normalizedKeyword.includes(key)) {
      return value;
    }
  }

  // Fallback algorithm - simple keyword matching from the keyword to theme
  const keywordParts = normalizedKeyword.split(/\s+/);
  for (const part of keywordParts) {
    if (part.length > 2) { // Skip very short words
      for (const [key, value] of Object.entries(colorKeywords)) {
        if (key.includes(part) || part.includes(key)) {
          return value;
        }
      }
    }
  }

  return 'default';
};

export const getRandomPalette = (): string[] => {
  const themes = Object.keys(THEME_COLORS);
  const randomTheme = themes[Math.floor(Math.random() * themes.length)];
  return THEME_COLORS[randomTheme];
};

export const generateAIColors = async (keyword: string): Promise<string[]> => {
  console.log("Generating colors for keyword:", keyword); // Debug log
  const themeKey = findSimilarKeywords(keyword);
  console.log("Selected theme:", themeKey); // Debug log
  return THEME_COLORS[themeKey] || THEME_COLORS.default;
};
